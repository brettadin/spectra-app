# AI Log — 2025-10-29

## Tasking — Record IR-SPEC provenance for manual Quant IR presets
- Added `source_urls` support to manual Quant IR records so the Water/CH₄/CO₂ fallbacks expose their authoritative NIST WebBook IR-SPEC catalog pages via metadata and provenance. 【F:app/server/fetchers/nist_quant_ir.py†L225-L580】
- Extended the manual catalog regression to assert the new IR-SPEC links for water, methane, and carbon dioxide. 【F:tests/server/test_nist_quant_ir.py†L99-L137】
- Rolled release metadata, patch notes, and patch log for v1.2.1ab to document the provenance update. 【F:app/version.json†L1-L5】【F:docs/patch_notes/v1.2.1ab.md†L1-L4】【F:PATCHLOG.txt†L52-L53】

## Verification
- `pytest tests/server/test_nist_quant_ir.py -q` 【b99d5e†L1-L2】

## Docs Consulted
- `docs/runtime.json` 【F:docs/runtime.json†L1-L21】
- `https://pages.nist.gov/dimspec/docs/references.html` 【F:docs/mirrored/nist_dimspec/references.meta.json†L1-L7】

## Tasking — Restore manual Quant IR JCAMP fallback
- Updated the Quant IR fetcher to reuse manual WebBook JCAMP payloads when the spectrum page responds with raw JCAMP data instead of a `display_jcamp` hook so manual presets load successfully again. 【F:app/server/fetchers/nist_quant_ir.py†L301-L312】
- Added regression coverage that asserts the JCAMP fallback returns the manual endpoint unchanged for direct JCAMP responses. 【F:tests/server/test_nist_quant_ir.py†L47-L59】
- Rolled version metadata, patch notes, and patch log for v1.2.1ac documenting the manual JCAMP fallback hotfix. 【F:app/version.json†L1-L5】【F:docs/patch_notes/v1.2.1ac.md†L1-L4】【F:PATCHLOG.txt†L54-L55】

## Verification
- `pytest tests/server/test_nist_quant_ir.py -q` 【627081†L1-L2】

## Docs Consulted
- `docs/runtime.json` 【F:docs/runtime.json†L1-L21】
- `https://pages.nist.gov/dimspec/docs/references.html` 【F:docs/mirrored/nist_dimspec/references.meta.json†L1-L7】
