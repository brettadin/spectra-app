# AI Log — 2025-10-26

## Tasking — Plugin infrastructure & SpecViz defaults
- Introduce a shared plugin registry/base so analysis tools can contribute configuration widgets, provenance, and overlay payloads through the workspace service.

## Actions & Decisions
- Added a plugin base/registry with manifest helpers and provenance utilities, enabling queued execution and overlay publication through the workspace service. 【F:app/plugins/__init__.py†L1-L173】
- Implemented SpecViz-aligned plugins for Gaussian smoothing, flux unit conversion, line detection, redshift adjustments, and Gaussian model fitting with graceful fallbacks when specutils helpers are unavailable. 【F:app/plugins/specviz_defaults.py†L1-L624】
- Documented each plugin’s controls, outputs, and SpecViz heritage in the app docs. 【F:docs/app/plugins/gaussian_smoothing.md†L1-L15】【F:docs/app/plugins/model_fitting.md†L1-L15】

## Verification
- `pytest tests/plugins/test_specviz_plugins.py` 【4654ab†L1-L15】

## Docs Consulted
- SpecViz adaptation blueprint — plugin alignment guidance and attribution requirements. 【F:docs/research/specviz_adaptation_outline.md†L1-L44】

## Tasking — Plugin tray UI & asynchronous execution
- Surface a dedicated plugin tab that queues plugin runs without blocking Streamlit reruns and preserves output tables/provenance.

## Actions & Decisions
- Added plugin runtime management, background execution, queue snapshots, and result history to the UI alongside a plugin tab. 【F:app/ui/main.py†L320-L720】【F:app/ui/main.py†L900-L1160】【F:app/ui/main.py†L1500-L1560】
- Extended regression coverage to assert plugin execution paths return overlays and tables with normalized units for manifest integration. 【F:tests/plugins/test_specviz_plugins.py†L1-L120】

## Verification
- Covered by shared pytest run above.

## Docs Consulted
- SpecViz adaptation blueprint — UI/UX parity expectations for plugin trays. 【F:docs/research/specviz_adaptation_outline.md†L40-L64】
