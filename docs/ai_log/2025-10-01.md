# AI Log — 2025-10-01

## Tasking
- Restrict the target library overlay action to MAST products that provide 1-D spectra, SEDs, or time-series and give users feedback on unsupported entries.
- Add regression coverage proving image/cube manifest rows are annotated instead of queued for overlay.
- Roll the Spectra App v1.2 continuity collateral (brains, patch notes, overlay workspace doc, patch log, version) for the hotfix.

## Actions & Decisions
- Consulted the astroquery MAST observation query reference to confirm the `dataproduct_type` vocabulary before gating overlays. 【F:docs/mirrored/astroquery/mast/mast_obsquery.meta.json†L1-L7】
- Added `SUPPORTED_OVERLAY_TYPES` and `_product_overlay_support` in the targets panel so only eligible 1-D entries append to the ingest queue; images/cubes now render a disabled button with an explanatory caption. 【F:app/ui/targets.py†L19-L150】
- Authored regression coverage that exercises supported (spectrum/time-series) and unsupported (image/missing type) cases. 【F:tests/ui/test_targets_overlay_support.py†L1-L40】
- Updated the overlay workspace guide plus continuity docs (brains, patch notes, patch log, version metadata) to describe the new gating rules. 【F:docs/app/overlay_workspace.md†L21-L28】【F:docs/brains/brains_v1.2.0d.md†L1-L9】【F:docs/patch_notes/v1.2.0d.md†L1-L15】【F:docs/patch_notes/PATCHLOG.txt†L18-L26】【F:app/version.json†L1-L5】
- Attempted to query the local docs search service per protocol, but the FAISS server is not running in this environment. 【d3b2a6†L1-L2】

## Verification
- `pytest tests/ui/test_targets_overlay_support.py` 【7128e4†L1-L8】

## Outstanding Follow-ups
- Extend `_product_overlay_support` once 2-D reduction pipelines can provide 1-D slices so library overlays can surface those assets without manual downloads.
