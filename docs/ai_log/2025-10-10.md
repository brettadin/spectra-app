# AI Log — 2025-10-10

## Tasking — v1.2.0o
- Ensure FITS ingestion normalises wavelength/time axis units when headers provide byte strings and extend regression coverage.
- Roll continuity collateral (version, patch notes, brains, AI log) per the v1.2 protocol.

## Actions & Decisions
- Routed `_parse_time_unit_hint`, `_normalise_wavelength_unit`, and `_unit_is_wavelength` through `_coerce_header_value`, decoding bytes and case-folding hints before normalisation so byte-string headers align with canonical units. 【F:app/server/ingest_fits.py†L233-L305】【F:app/server/ingest_fits.py†L751-L799】【F:app/server/ingest_fits.py†L338-L353】
- Added ingestion tests that inject byte-string `TUNIT1`/`CUNIT1` hints for wavelength and time tables, asserting successful parsing and axis classification. 【F:tests/server/test_ingest_fits.py†L375-L395】【F:tests/server/test_ingest_fits.py†L442-L466】
- Published patch notes, brains entry, and version bump documenting the hotfix. 【F:docs/patch_notes/v1.2.0o.md†L1-L18】【F:docs/atlas/brains.md†L16-L19】【F:app/version.json†L1-L5】

## Verification
- `pytest tests/server/test_ingest_fits.py` 【d84ce6†L1-L26】

## Docs Consulted
- Astropy units equivalencies reference for byte-handling expectations. 【F:docs/mirrored/astropy/units.meta.json†L1-L7】
