# Patch Notes — v1.2.0r

## Summary
- Move normalization, differential mode, and similarity configuration from the sidebar into the differential workspace.

## Details
1. **Differential tab owns comparison controls**
   - Added normalization and differential mode selectors at the top of the tab so session math stays close to the compute form, keeping explanatory copy alongside the controls. 【F:app/ui/main.py†L3097-L3130】【F:app/ui/main.py†L3285-L3288】
2. **Similarity configuration embedded with analysis**
   - Relocated metric, weighting, and normalization widgets into a dedicated expander inside the tab so similarity runs follow the same context as differential results. 【F:app/ui/main.py†L3132-L3190】
3. **Sidebar streamlined for general session tools**
   - Removed the differential and similarity clusters from the settings group to leave archive, display, examples, and line catalog controls untouched. 【F:app/ui/main.py†L1492-L1509】

## Verification
- `pytest tests/ui/test_sidebar_display_controls.py tests/ui/test_differential_form.py`

## Continuity
- Version bumped to v1.2.0r with brains and AI log updates recorded.
