# Patch Notes â€” v1.2.0d

## Summary

- Drive the Docs tab banner from the active patch metadata so users see the current release summary instead of the stale v1.1.9 text.
- Add regression coverage to lock the banner to `_resolve_patch_metadata` output.

## Details
1. **Docs tab banner**
   - `_render_docs_tab` now accepts `version_info` and pulls its banner string from `_resolve_patch_metadata`, matching whatever ships in `app/version.json`/`PATCHLOG.txt`.
   - The UI keeps the existing layout but surfaces the exact patch line (or summary fallback) reported by the build metadata.
2. **Test coverage**
   - Added `tests/ui/test_docs_tab.py::test_docs_tab_banner_uses_patch_metadata` to patch Streamlit widgets and assert the rendered banner matches the current patch line.

## Verification
- `pytest tests/ui/test_docs_tab.py`

## Continuity
- Version bumped to v1.2.0d with updated plaintext patch notes, brains log, patch log, and AI log entry.

- Disable overlay ingestion for MAST products that are not 1-D spectra, SEDs, or time-series and surface a helper note for unsupported entries.
- Add focused regression coverage that proves image-type products are annotated instead of enqueued for overlay.

## Details
1. **Overlay gating**
   - Introduced `_product_overlay_support` in `app/ui/targets.py` so image/cube entries render a disabled button with context while 1-D products continue to enqueue traces.
   - Normalised dataproduct type handling and ensured missing or unknown types are treated as unsupported for overlays.
2. **Regression coverage**
   - Added `tests/ui/test_targets_overlay_support.py` to confirm spectra/time-series remain eligible and image rows present the explanatory annotation.

## Verification
- `pytest tests/ui/test_targets_overlay_support.py`

