# Patch Notes — v1.2.0y

## Summary
- Canonicalised FITS wavelength hints so plural byte aliases resolve before validation and added regression coverage for plural `TUNIT`/`CUNIT` headers. 【F:app/server/ingest_fits.py†L338-L353】【F:app/server/ingest_fits.py†L751-L810】【F:tests/server/test_ingest_fits.py†L375-L420】

## Details
1. **Canonical wavelength aliasing**
   - Route `_normalise_wavelength_unit` candidates through a shared canonicaliser so plural strings (including decoded byte aliases) resolve to FITS labels before conversion or validation. 【F:app/server/ingest_fits.py†L751-L810】
   - Simplified `_unit_is_wavelength` to trust canonical strings while defensively decoding bytes, ensuring already-normalised hints skip redundant coercion. 【F:app/server/ingest_fits.py†L338-L353】
2. **Regression coverage**
   - Extended ingestion tests with plural byte `TUNIT` and `CUNIT` fixtures to confirm canonical units are reported while metadata preserves the original header values. 【F:tests/server/test_ingest_fits.py†L375-L420】

## Verification
- `pytest tests/server/test_ingest_fits.py` 【829103†L1-L33】

## Continuity
- Version bumped to v1.2.0y with brains and AI log updates recorded per the release protocol. 【F:app/version.json†L1-L5】【F:docs/atlas/brains.md†L1-L8】【F:docs/ai_log/2025-10-15.md†L1-L20】
