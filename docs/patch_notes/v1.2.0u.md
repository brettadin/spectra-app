# Patch Notes — v1.2.0u

## Summary
- Keep the example browser provider filter stable across reruns without Streamlit warnings.

## Details
1. **Session state seeding guard**
   - Seed the provider multiselect via `setdefault` before constructing the widget and normalise selections after reruns so stale providers are pruned while avoiding warning banners. 【F:app/ui/example_browser.py†L185-L220】
2. **Regression coverage**
   - Strengthened the AppTest to assert no warnings appear while provider selections persist through reruns, including when stale providers are cached. 【F:tests/ui/test_example_browser.py†L107-L128】【F:tests/ui/test_example_browser.py†L213-L215】

## Verification
- `pytest tests/ui/test_example_browser.py::test_provider_filter_persists_session_state` 【3fdd11†L1-L5】

## Continuity
- Version bumped to v1.2.0u with brains and AI log updates recorded. 【F:app/version.json†L1-L5】【F:docs/atlas/brains.md†L25-L36】【F:docs/ai_log/2025-10-12.md†L1-L20】

- Reordered the target catalog panel so manifest context and curated products stay visible while the registry grid sits behind an optional expander.

## Details
1. **Summary-first layout**
   - Render the selected manifest's header, narrative summary, and health metrics before listing curated spectra, then park the catalog dataframe inside a "Browse catalog entries" expander. 【F:app/ui/targets.py†L260-L352】
2. **Regression coverage**
   - Added a UI regression that asserts the new expander label appears and confirms the dataframe remains reachable for discovery. 【F:tests/ui/test_targets_panel_layout.py†L53-L74】

## Verification
- `pytest tests/ui/test_targets_panel_layout.py` 【f68a52†L1-L8】

## Continuity
- Version bumped to v1.2.0u with brains and AI log updates capturing the catalog layout change. 【F:app/version.json†L1-L5】【F:docs/atlas/brains.md†L44-L47】【F:docs/ai_log/2025-10-01.md†L55-L68】
