# Patch Notes — v1.2.0z

## Summary
- Removed stored FITS time-axis offsets and annotated UI ranges with their reference epochs so light curves plot near zero while preserving provenance. 【F:app/server/ingest_fits.py†L1468-L1505】【F:app/ui/main.py†L1693-L1753】

## Details
1. **Time-axis offset normalization**
   - Subtract detected FITS time-series offsets when building payload values while keeping the canonical epoch in metadata and provenance. 【F:app/server/ingest_fits.py†L1468-L1505】
   - Mirror the behaviour through local ingest to guarantee uploaded light curves receive the same de-offset metadata and provenance. 【F:tests/server/test_local_ingest.py†L633-L686】
2. **UI reference captions**
   - Reuse time-axis provenance to generate axis titles and metadata summaries that include the reference epoch beside the de-offset range. 【F:app/ui/main.py†L1693-L1753】【F:app/ui/main.py†L2230-L2249】
   - Extend UI regressions with a BJD-offset overlay fixture to assert the plotted range starts near zero and the caption cites the epoch. 【F:tests/ui/test_overlay_mixed_axes.py†L7-L127】【F:tests/ui/test_metadata_summary.py†L133-L160】
3. **Ingestion coverage**
   - Update FITS ingestion tests to feed absolute BJD samples and confirm the exported axis values, metadata ranges, and provenance offsets all reflect the de-offset timeline. 【F:tests/server/test_ingest_fits.py†L435-L557】

## Verification
- `pytest tests/server/test_ingest_fits.py tests/server/test_local_ingest.py tests/ui/test_metadata_summary.py tests/ui/test_overlay_mixed_axes.py` 【77e253†L1-L6】【d3f706†L1-L38】

## Continuity
- Version bumped to v1.2.0z with brains and AI log entries recorded per the release protocol. 【F:app/version.json†L1-L5】【F:docs/atlas/brains.md†L1-L8】【F:docs/ai_log/2025-10-16.md†L1-L21】
- versions past vx.x.xz will roll over to the next vx.x.x+1(a... b... c... d.. and so on)
