# AI Handoff Prompt — Spectra App v1.1.2c

## State of Repo
- Runnable Streamlit+Plotly app with versioning surfaced in UI + exports.
- Dual-location patch notes in place: root short log + docs/patches longform.
- Runners under RUN_CMDS tested (Start, Clean-Install, Verify).
- Brains continuity notes: v1.1.1 and v1.1.2c.

## Rules (mandatory)
- Ship **patches only**. Never overwrite the repo wholesale.
- Append to root PATCHLOG.txt, add a longform `docs/patches/PATCH_NOTES_<version>.md`.
- Update `app/version.json` with version, date_utc, summary.
- Regenerate CHECKSUMS.txt with each patch.
- Update brains notes (`docs/brains/vX.Y.Z brains.txt`) with candid lessons.
- Normalize all text/docs to UTF-8. No curly quotes or MS Word artifacts.

## Roadmap (v1.1.3 →)
1) Archive fetchers (astroquery): MAST, ESO, SDSS, Simbad/VO, IACOB, exoplanet archive. Each saves provenance.json.
2) Docs expansion: replace stubs with Brains zipped content, UTF-8 normalized.
3) Duplicate upload guard with SHA-256 ledger.
4) Emission + absorption in dual-panel or offset-baseline mode.
5) Unit toggles (nm, Å, µm, cm⁻¹) with logs in manifests.
6) Differential tool: align, resample, normalize, subtract/ratio, log steps.
7) Modeling overlays: blackbody + line-list with provenance.

## Acceptance criteria
- App launches from RUN-LOCAL.txt.
- 3+ real datasets fetched with provenance.json present.
- Docs panel shows full content (not placeholders).
- Duplicate upload prevention enforced.
- No empty labels in legends.
- Exports: PNG + CSV + manifest always consistent.

## Quick checks
```powershell
cd C:\Code\spectra-app
.\RUN_CMDS\Verify-Project.ps1
.\.venv\Scripts\python -m scripts.print_version
.\RUN_CMDS\Start-Spectra.ps1
```
